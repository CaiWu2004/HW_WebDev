<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>JS Objects and JSON</title>
    <script type="text/javascript">
      // initialize a new object and store it as a variable names customer
      const customer = {
        name: "Tony",
        age: 23,
        married: false,
        pets: ["dog", "cat", "iguana"],
        sibilings: [
          {
            name: "Marry",
            age: 32,
            married: true,
          },
          { name: "Billy", age: 16, married: false },
        ],
      };

      // console.log(customer);
      // reassign the value for the name property
      // customer.name = "Anthony";
      // console.log(customer);
      // log tony's third pet
      // console.log(customer.pets[2]);
      // console.log(customer["pets"][2]);
      // customer.pets.push("chicken");

      // give mary 2 pets: spider and a small snail
      // customer.siblings[0].pets = ["spider", "snail"];
      // how would I log how many pets tony has
      // console.log(customer.pets.length);
      var ketToAccess = "name";
      // sometimes with object we need to pass in a variable instead of a key so dot notation wont work
      // customer.siblings[0][keyToAccess];
      // we can add new fields with values at anytime
      // customer.height = 60;

      const customerJSON = JSON.stringify(customer);
      // console.log(customerJSON);

      // convert any JSON data recieve from a file or an API call
      const customerObject = JSON.parse(customerJSON);
      // console.log(customerObject);

      // make our first API call using fetch
      // whenever we use await flag inside of a funtion, we have to flag that function
      // as async
      async function logApiResults() {
        // await = dear JS please chill and wait for the promise on the next line to
        // resolve before moving on with any other code here
        // IOU a response,please wait till you get it
        const response = await fetch(
          "https://rickandmortyapi.com/api/character/2"
        );
        // this is how MDN gets an object out of API response
        const result = await response.json();
        // console.log("RESULT", result);
        return result;
      }

      // all log api results does is get the data, and return the result after logging
      // we probably want to chain a bunch of stuff once we get our data,
      // whenever theres potential to fail, we need a catch
      logApiResults()
        .then((data) => {
          myApiResult.data = data;
          // this is where we would generate HTML for the user
          const message = `${myApiResult.data.name} is a ${myApiResult.data.species}
      from ${myApiResult.data.origin.name} and they are a ${myApiResult.data.status}.`;
          console.log(message);
        })
        // whenever we have a then we need a catch to catch error
        .catch((error) => {
          console.rror(error);
        });
    </script>
  </head>
  <body></body>
</html>
